<% if poll.get_option_a_img.present? %>
  <style>
    #option-a-<%= poll.id %> {
      background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(<%= poll.get_option_a_img %>);
      background-size: cover;
    }

    #option-a-<%= poll.id %>:after {
        background: radial-gradient(rgba(97, 183, 242, 1) 50%, rgba(97, 183, 242, 0.3));
        border-top-left-radius: 100%;
        border-top-right-radius: 100%;
        bottom: -50%;
        content: '<%= poll.option_a %>';
    }
  <% end %>

  <% if poll.get_option_b_img.present? %>
    #option-b-<%= poll.id %> {
      background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(<%= poll.get_option_b_img %>);
    }

    #option-b-<%= poll.id %>:after {
      background: radial-gradient(rgba(252, 185, 44, 1) 50%, rgba(252, 185, 44, 0.6));
      border-radius: 20px;
      bottom: -52%;
      content: '<%= poll.option_b %>';
    }
  </style>
<% end %>

<article class="poll poll-detailed">
  <div class="poll__content">
    <h2><%= @poll.title %></h2>
    <div class="poll__meta">
      <p><%= @poll.user.username %></p>
      <ul>
        <li><i class="icon-fire"></i><span><%= pluralize(@poll.vote_count, "vote") %></span></li>
        <li>
          <% if @poll.expired? %>
            <i class="icon-expired"></i><span>expired</span>
          <% else %>
            <i class="icon-clock"></i><span><%= @poll.time_left %> left</span>
          <% end %>
        </li>
      </ul>
    </div>
    <%= render 'shared/options', poll: @poll %>
    <ul class="poll__actions">
      <li class="poll__actions__comments poll__actions__action">
        <a href="#TODO">
          <i class="icon-comment"></i>
          <span><%= pluralize(@poll.comment_count, "comment") %></span>
        </a>
      </li>
      <li class="poll__actions__action">
        <%= render 'shared/follow', poll: @poll %>
      </li>
      <li class="poll__actions__action">
        <a href="#TODO">
          <i class="icon-link"></i>
          <span>copy link</span>
        </a>
      </li>
    </ul>
  </div>
</article>
